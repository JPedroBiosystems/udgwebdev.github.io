<!DOCTYPE html><html lang="en" manifest="/manifest.appcache" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"><head><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/><meta charset="utf-8"/><title>Dicas de segurança para aplicações Meteor | Underground WebDev</title><meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#BA2D27"/><meta name="apple-mobile-web-app-title" content="UDGWebDev"/><meta name="msapplication-TileImage" content="https://udgwebdev.com/images/undefined-128.png"/><meta name="msapplication-TileColor" content="#BA2D27"/><meta name="msapplication-tap-highlight" content="no"/><meta name="mobile-web-app-capable" content="yes"/><meta name="application-name" content="UDGWebDev"/><meta name="theme-color" content="#BA2D27"/><meta name="title" content="Dicas de segurança para aplicações Meteor"/><meta name="author" content="Caio Ribeiro Pereira"/><meta name="description" content="Se você esta desenvolvendo uma aplicação Meteor, é importante estar por dentro de como garantir segurança em sua aplicação. Nesse post mostrarei algumas dicas simples e de fácil execução para blindar seu projeto!"/><meta property="og:title" content="Dicas de segurança para aplicações Meteor"/><meta property="og:description" content="Se você esta desenvolvendo uma aplicação Meteor, é importante estar por dentro de como garantir segurança em sua aplicação. Nesse post mostrarei algumas dicas simples e de fácil execução para blindar seu projeto!"/><meta property="og:url" content="https://udgwebdev.com/dicas-de-seguranca-para-aplicacoes-meteor"/><meta property="og:site_name" content="Underground WebDev"/><meta property="og:image" content="https://udgwebdev.com/images/meteor-logo.jpg"/><meta property="og:type" content="website"/><meta property="article:author" content="https://plus.google.com/+CaioRibeiroPereira"/><meta property="article:section" content="main"/><meta name="twitter:creator" content="@crp_underground"/><meta name="twitter:card" content="summary"/><meta name="twitter:url" content="https://udgwebdev.com/dicas-de-seguranca-para-aplicacoes-meteor"/><meta name="twitter:title" content="Dicas de segurança para aplicações Meteor"/><meta name="twitter:description" content="Se você esta desenvolvendo uma aplicação Meteor, é importante estar por dentro de como garantir segurança em sua aplicação. Nesse post mostrarei algumas dicas simples e de fácil execução para blindar seu projeto!"/><meta name="twitter:image" content="https://udgwebdev.com/images/meteor-logo.jpg"/><link rel="manifest" href="/manifest.json"/><link rel="stylesheet" href="/assets/css/main.css" type="text/css"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="canonical" href="https://udgwebdev.com/dicas-de-seguranca-para-aplicacoes-meteor"/></head><body><nav role="navigation" class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><img src="/images/udgwebdev-logo.png" alt="Underground WebDev" width="48" class="navbar-logo"/></a></div><div class="navbar-right navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/nodejs"><i class="fa fa-code"></i>&nbsp;Node.js</a></li><li><a href="/meteor"><i class="fa fa-code"></i>&nbsp;Meteor</a></li><li><a href="/dicas-de-terminal"><i class="fa fa-terminal"></i>&nbsp;Terminal</a></li></ul></div></div></nav><nav role="navigation" class="c-circle-menu js-menu"><button class="c-circle-menu__toggle js-menu-toggle"><span>Toggle</span></button><ul class="c-circle-menu__items"><li class="c-circle-menu__item"><a href="http://feeds.feedburner.com/UndergroundWebDev" target="_blank" rel="nofollow" title="Feed" class="c-circle-menu__link"><i class="icon fa fa-rss"></i></a></li><li class="c-circle-menu__item"><a href="https://github.com/caio-ribeiro-pereira" target="_blank" rel="nofollow" title="Github" class="c-circle-menu__link"><i class="icon fa fa-github"></i></a></li><li class="c-circle-menu__item"><a href="https://www.facebook.com/udgwebdev" target="_blank" rel="nofollow" title="Fanpage" class="c-circle-menu__link"><i class="icon fa fa-facebook-square"></i></a></li><li class="c-circle-menu__item"><a href="http://twitter.com/crp_underground" target="_blank" rel="nofollow" title="Twitter" class="c-circle-menu__link"><i class="icon fa fa-twitter-square"></i></a></li><li class="c-circle-menu__item"><a href="https://www.linkedin.com/in/caioribeiropereira" target="_blank" rel="nofollow" title="LinkedIn" class="c-circle-menu__link"><i class="icon fa fa-linkedin-square"></i></a></li></ul><div class="c-circle-menu__mask js-menu-mask"></div></nav><main role="main" class="container vertical-centralization"><div class="row"><article id="dicas-de-seguranca-para-aplicacoes-meteor" class="col-xs-12 col-sm-9 post"><h1>Dicas de segurança para aplicações Meteor</h1><p class="text-muted">Publicação: <time datetime="23/05/2015" pubdate><b>23/05/2015</b></time> | Tags: <a href="/menu/#meteor" rel="me" title="Menu: Meteor">Meteor</a></p><p><img src="/images/meteor-logo.jpg" alt="Meteor" title="Meteor"></p>
<p>Se você esta desenvolvendo uma aplicação Meteor, é importante estar por dentro de como garantir segurança em sua aplicação. Nesse post mostrarei algumas dicas simples e de fácil execução para blindar seu projeto.</p>
<h2>Remova o insecure e autopublish</h2><p>Antes de você colocar seu app em produção, execute esse comando:</p>
<pre><code class="language-bash"> meteor remove insecure autopublish
</code></pre>
<p>E faça um refactoring em seu app para garantir que todas as funcionalidades de PubSub estão funcionando e certifique-se também que todas as funções de escrita das collections que são realizadas no client-side funcionem através da função Meteor.call (client-side) /Meteor.methods (server-side). Se possível, toda vez que você começar um novo projeto Meteor, que comece-o removendo esses 2 packages, para que você não tenha retrabalho no futuro. O motivo do Meteor utilizar esses packages é que eles agilizam a produtividade na prototipação, porém usar eles em produção libera uma brecha de segurança que permite pelo console de um browser executar qualquer manipulação nas collections do MongoDB. Se estiver com dúvidas sobre trabalhar com PubSub ou Meteor.methods, leia esses post: <a href="/meteor-pubsub" title="Meteor PubSub">Meteor PubSub</a> e <a href="/meteor-methods" title="Meteor.methods">Meteor.methods</a>.</p>
<h2>Evitando NoSQL Injection</h2><p>Para evitar possíveis ataques de <strong>NoSQL Injection</strong>, instale o package <a href="https://atmospherejs.com/meteor/audit-argument-checks">audit-argument-checks</a>:</p>
<pre><code class="language-bash"> meteor add audit-argument-checks
</code></pre>
<p>Sempre execute a função <strong>check()</strong> para validar o tipo de dados de todos os parâmetros existentes numa função <strong>Meteor.publish()</strong> ou <strong>Meteor.methods()</strong>.
Para demonstrar um exemplo simples de NoSQL Injection veja o código abaixo:</p>
<pre><code class="language-javascript"> // No client-side posso enviar esse parâmetro...
 Meteor.subscribe(&quot;clients&quot;, {$gte: &quot;&quot;});
 // Sem a função check() validando se &quot;name&quot; é uma string, os resultados teriam sidos manipulados sem alertar erro...
 Meteor.publish(&quot;clients&quot;, function(name) {
   check(name, String);
   return Clients.find({
     name: name
   });
 });
</code></pre>
<h2>Configure corretamente o App.accessRule</h2><p>Se sua aplicação Meteor for um app mobile é recomendável que você configure corretamente quais urls externas sua aplicação poderá acessar, para evitar por exemplo que seus usuários acessem acidentalmente uma url maliciosa. Para configurar isso, acesse o arquivo <strong>mobile-config.js</strong> e inclua todas as urls externas que seu app poderá acessar:</p>
<pre><code class="language-javascript"> App.accessRule(&quot;*.myurl.com/*&quot;);
 App.accessRule(&quot;*.anotherurl.com/*&quot;);
 App.accessRule(&quot;tel://*&quot;, {launchExternal: true});
</code></pre>
<p>Respectivamente esses 3 padrões permitem que seu app possa consumir recursos desses endereços, em especial o último padrão, permite abrir um aplicativo externo para executar a url scheme <strong>tel://*</strong> (que é uma url scheme para informar número de telefones). Evite sempre informar isso:</p>
<pre><code class="language-javascript"> App.accessRule(&quot;*&quot;);
</code></pre>
<p>Esse padrão permite que seu app acesse qualquer url e qualquer url scheme, e consequentemente isso pode gerar possíveis brechas de segurança em seu app.
Hey! Esse post tem continuação: <a href="/dicas-de-seguranca-para-aplicacoes-meteor-parte-2">Dicas de segurança para aplicações Meteor - Parte 2</a>.</p>
<p><strong>Fonte:</strong> <a href="http://www.1pxsolidtomato.com/2015/04/06/nosql-injection-or-always-check-your-arguments/">NoSQL Injection - Or, Always Check Your Arguments!</a></p><div id="disqus_thread"></div><script async="async" defer="defer">(function() {
  var disqus_shortname = 'udgwebdev';
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Por favor, habilite o JavaScript no seu browser para visualizar os comentários deste post.</noscript><script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Dicas de segurança para aplicações Meteor",
  "image": "https://udgwebdev.com/images/meteor-logo.jpg",
  "publisher": "Underground WebDev",
  "url": "https://udgwebdev.com/dicas-de-seguranca-para-aplicacoes-meteor",
  "datePublished": "2015-05-23",
  "dateCreated": "2015-05-23",
  "description": "Se você esta desenvolvendo uma aplicação Meteor, é importante estar por dentro de como garantir segurança em sua aplicação. Nesse post mostrarei algumas dicas simples e de fácil execução para blindar seu projeto!",
  "author": {
    "@type": "Person",
    "name": "Caio Ribeiro Pereira"
  }
}</script></article></div></main><footer class="footer text-center"><p><small><i class="fa fa-trophy"></i>&nbsp;Powered by <a href="https://pages.github.com" rel="nofollow" target="_blank" title="Github Pages">Github Pages</a>, <a href="http://gruntjs.com" rel="nofollow" target="_blank" title="Grunt">Grunt</a> and <a href="http://harpjs.com" rel="nofollow" target="_blank" title="Harp.js">Harp.js</a>.</small><br/><small>Autor: <a href="https://crpwebdev.github.io" rel="me" target="_blank" title="Caio Ribeiro Pereira">Caio Ribeiro Pereira</a>.</small></p></footer><script src="/assets/js/circlemenu.min.js"></script><script src="/assets/js/main.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-25728091-2', 'auto');
ga('send', 'pageview');</script></body></html>