<!DOCTYPE html><html lang="en" manifest="/manifest.appcache" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"><head><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/><meta charset="utf-8"/><title>Deploying Meteor no Heroku | Underground WebDev</title><meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#BA2D27"/><meta name="apple-mobile-web-app-title" content="UDGWebDev"/><meta name="msapplication-TileImage" content="https://udgwebdev.com/images/undefined-128.png"/><meta name="msapplication-TileColor" content="#BA2D27"/><meta name="msapplication-tap-highlight" content="no"/><meta name="mobile-web-app-capable" content="yes"/><meta name="application-name" content="UDGWebDev"/><meta name="theme-color" content="#BA2D27"/><meta name="title" content="Deploying Meteor no Heroku"/><meta name="author" content="Caio Ribeiro Pereira"/><meta name="description" content="Veja nesse quick post como configurar um servidor Meteor no PaaS Heroku."/><meta property="og:title" content="Deploying Meteor no Heroku"/><meta property="og:description" content="Veja nesse quick post como configurar um servidor Meteor no PaaS Heroku."/><meta property="og:url" content="https://udgwebdev.com/deploying-meteor-no-heroku"/><meta property="og:site_name" content="Underground WebDev"/><meta property="og:image" content="https://udgwebdev.com/images/heroku.jpg"/><meta property="og:type" content="website"/><meta property="article:author" content="https://plus.google.com/+CaioRibeiroPereira"/><meta property="article:section" content="main"/><meta name="twitter:creator" content="@crp_underground"/><meta name="twitter:card" content="summary"/><meta name="twitter:url" content="https://udgwebdev.com/deploying-meteor-no-heroku"/><meta name="twitter:title" content="Deploying Meteor no Heroku"/><meta name="twitter:description" content="Veja nesse quick post como configurar um servidor Meteor no PaaS Heroku."/><meta name="twitter:image" content="https://udgwebdev.com/images/heroku.jpg"/><link rel="manifest" href="/manifest.json"/><link rel="stylesheet" href="/assets/css/main.css" type="text/css"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="canonical" href="https://udgwebdev.com/deploying-meteor-no-heroku"/></head><body><nav role="navigation" class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><img src="/images/udgwebdev-logo.png" alt="Underground WebDev" width="48" class="navbar-logo"/></a></div><div class="navbar-right navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/nodejs"><i class="fa fa-code"></i>&nbsp;Node.js</a></li><li><a href="/meteor"><i class="fa fa-code"></i>&nbsp;Meteor</a></li><li><a href="/dicas-de-terminal"><i class="fa fa-terminal"></i>&nbsp;Terminal</a></li></ul></div></div></nav><nav role="navigation" class="c-circle-menu js-menu"><button class="c-circle-menu__toggle js-menu-toggle"><span>Toggle</span></button><ul class="c-circle-menu__items"><li class="c-circle-menu__item"><a href="http://feeds.feedburner.com/UndergroundWebDev" target="_blank" rel="nofollow" title="Feed" class="c-circle-menu__link"><i class="icon fa fa-rss"></i></a></li><li class="c-circle-menu__item"><a href="https://github.com/caio-ribeiro-pereira" target="_blank" rel="nofollow" title="Github" class="c-circle-menu__link"><i class="icon fa fa-github"></i></a></li><li class="c-circle-menu__item"><a href="https://www.facebook.com/udgwebdev" target="_blank" rel="nofollow" title="Fanpage" class="c-circle-menu__link"><i class="icon fa fa-facebook-square"></i></a></li><li class="c-circle-menu__item"><a href="http://twitter.com/crp_underground" target="_blank" rel="nofollow" title="Twitter" class="c-circle-menu__link"><i class="icon fa fa-twitter-square"></i></a></li><li class="c-circle-menu__item"><a href="https://www.linkedin.com/in/caioribeiropereira" target="_blank" rel="nofollow" title="LinkedIn" class="c-circle-menu__link"><i class="icon fa fa-linkedin-square"></i></a></li></ul><div class="c-circle-menu__mask js-menu-mask"></div></nav><main role="main" class="container vertical-centralization"><div class="row"><article id="deploying-meteor-no-heroku" class="col-xs-12 col-sm-9 post"><h1>Deploying Meteor no Heroku</h1><p class="text-muted">Publicação: <time datetime="14/03/2016" pubdate><b>14/03/2016</b></time> | Tags: <a href="/menu/#meteor" rel="me" title="Menu: Meteor">Meteor</a></p><p><img src="/images/heroku.jpg" alt="Deploying Meteor no Heroku" title="Deploying Meteor no Heroku"></p>
<p>Recentemente, a equipe do Meteor, publicou em sua newsletter que vai descontinuar os servidores free que são fornecidos através do comando meteor deploy.
Com isso, acabei migrando alguns dos meus pequenos projetos para o Heroku, e com isso resolvi criar esse post explicando passo-a-passo como fazer deploy para o Heroku.</p>
<h3>Setup do Heroku</h3><p>Em primeiro lugar, crie uma conta no <a href="https://heroku.com">heroku.com</a> e em seguida instale seu CLI (veja nesse link <a href="https://toolbelt.heroku.com">toolbelt.heroku.com</a>) para liberar o comando heroku em seu terminal.</p>
<h3>Setup da aplicação</h3><p>Agora com o ambiente heroku configurado em sua máquina, execute o comando:</p>
<pre><code class="language-bash"> heroku create nome-da-aplicacao
</code></pre>
<p>Em seguida, instale o buildpack do Meteor para configurar os scripts de deploy necessários para uma aplicação Meteor compilar e gerar uma versão Node.js pronta para os servidores do Heroku, para isso, rode o comando:</p>
<pre><code class="language-bash"> heroku buildpacks:set https://github.com/AdmitHub/meteor-buildpack-horse.git
</code></pre>
<p>Agora, instale o MongoLabs, que é um serviço PaaS para o MongoDB, ele tem uma versão free que oferece até <strong>500MB de persistência de dados</strong>, para isso rode o comando:</p>
<pre><code class="language-bash"> heroku addons:create mongolab
</code></pre>
<p>Para finalizar a configuração do ambiente, configure a variável de ambiente ROOT_URL com o endereço da sua aplicação heroku:</p>
<pre><code class="language-bash"> heroku config:set ROOT_URL=https://nome-da-aplicacao.herokuapp.com
</code></pre>
<p><strong>Obs.:</strong> O Heroku já fornece suporte gratuito ao protocolo HTTPS.</p>
<h3>Configuração extra</h3><p>Como dica adicional, caso no futuro você tenha a necessidade de incluir novos dynos, que são servidores dentro do load balancer do Heroku, você provavelmente sofrerá um problema de sua aplicação Meteor não garantir sessão correta entre usuários, para resolver esse problema de <strong>sticky session</strong>, você pode instalar esse plugin adicional gratuitamente:</p>
<pre><code class="language-bash"> heroku labs:enable http-session-affinity
</code></pre>
<h3>Deploying</h3><p>Para realizar o primeiro deploy do seu projeto para o Heroku, basta fazer um <strong>git push</strong> no <strong>remote heroku</strong>, que foi configurado automaticamente quando você criou uma aplicação pelo comando <strong>heroku create</strong>, ou seja, rode o comando:</p>
<pre><code class="language-bash"> git push heroku master
</code></pre>
<p><strong>Pronto! Servidor configurado e ready for production.</strong></p>
<h3>Referências</h3><ul>
<li><a href="http://justmeteor.com/blog/deploy-to-production-on-heroku">Meteor.js - Deploy to production on Heroku</a></li>
</ul><div id="disqus_thread"></div><script async="async" defer="defer">(function() {
  var disqus_shortname = 'udgwebdev';
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Por favor, habilite o JavaScript no seu browser para visualizar os comentários deste post.</noscript><script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Deploying Meteor no Heroku",
  "image": "https://udgwebdev.com/images/heroku.jpg",
  "publisher": "Underground WebDev",
  "url": "https://udgwebdev.com/deploying-meteor-no-heroku",
  "datePublished": "2016-03-14",
  "dateCreated": "2016-03-14",
  "description": "Veja nesse quick post como configurar um servidor Meteor no PaaS Heroku.",
  "author": {
    "@type": "Person",
    "name": "Caio Ribeiro Pereira"
  }
}</script></article></div></main><footer class="footer text-center"><p><small><i class="fa fa-trophy"></i>&nbsp;Powered by <a href="https://pages.github.com" rel="nofollow" target="_blank" title="Github Pages">Github Pages</a>, <a href="http://gruntjs.com" rel="nofollow" target="_blank" title="Grunt">Grunt</a> and <a href="http://harpjs.com" rel="nofollow" target="_blank" title="Harp.js">Harp.js</a>.</small><br/><small>Autor: <a href="https://crpwebdev.github.io" rel="me" target="_blank" title="Caio Ribeiro Pereira">Caio Ribeiro Pereira</a>.</small></p></footer><script src="/assets/js/circlemenu.min.js"></script><script src="/assets/js/main.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-25728091-2', 'auto');
ga('send', 'pageview');</script></body></html>