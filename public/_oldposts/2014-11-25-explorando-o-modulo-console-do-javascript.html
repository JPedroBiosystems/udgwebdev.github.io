---
layout: post
title: Explorando o módulo console do JavaScript
tags: ['Javascript']
keywords: console.log, console, javascript console
published: true
description: Neste post vou apresentar algumas funcionalidades que são pouco conhecidas, mas que são bem úteis do módulo console.
image_url: javascript-logo.jpg
---
<figure class="post-image">
  <img src="{{ site.url }}/images/javascript-logo.jpg" width="250" height="250" alt="15 JavaScript Hacks" title="15 JavaScript Hacks">
</figure>
<div class="post-content">
  <p>Pra quem programa com JavaScript ou Node.js com certeza já usou em algum trecho de código a função <code>console.log</code> para imprimir alguma informação na tela. Mas e as demais funções do módulo <code>console</code>? Neste post vou apresentar algumas funcionalidades que são pouco conhecidas, mas que são bem úteis desse módulo.<br>Em resumo, falarei sobre as seguintes funções: <code>console.time</code>, <code>console.timeEnd</code> e <code>console.memory</code>.</p>
  <h2>Monitorando tempo de execução</h2>
  <p>Quando você precisar fazer um benchmark que calcule o tempo de execução de um trecho de código, na maioria dos casos a solução que muitos fazem é a de instanciar um objeto <code>Date</code> no início e no fim de um trecho de código para em seguida calcular a diferença dessas datas e por fim apresentar seu tempo de execução. No JavaScript temos duas funções que fazem isso de maneira mais elegante. Basta utilizar a função <code>console.time()</code> no início e no final utilize <code>console.timeEnd()</code>, veja o exemplo abaixo:</p>

{% highlight javascript %}
  function benchmark(n) {
    var maxPI = 0;
    console.time("tempo gasto");
    for (var i = 0; i < n; i++) {
        maxPI += Math.PI * i;
    }
    console.log("Max PI: ", maxPI);
    console.timeEnd("tempo gasto");
  }
{% endhighlight %}

  <p>A função benchmark faz um cálculo simples do valor máximo do pi multiplicado por cada i do loop. O importante nesse código é como foi utilizado as funções de <code>console.time</code> e <code>console.timeEnd</code>. Elas praticamente usam uma string que representam a mensam de resultado final, outro detalhe é que a string utilizada em <code>console.time</code> precisa ser exatamente a mesma string em <code>console.timeEnd</code> para que seja calculado e apresentado o tempo gasto entre ambas funções.</p>

  {% include content-ads.ext %}

  <h2>Visualizando heap de memória</h2>
  <p>Outra funcionalidade interessante do módulo <code>console</code> é o atributo <code>console.memory</code>. Este é um objeto que contém os seguintes atributos:</p>

{% highlight javascript %}
  {
    jsHeapSizeLimit: 793000000,
    usedJSHeapSize: 10000000,
    totalJSHeapSize: 12700000
  }
{% endhighlight %}

  <p>O atributo <code>jsHeapSizeLimit</code> apresenta o limite máximo do heap de memória, já o <code>usedJSHeapSize</code> representa a quantidade de heap que esta em uso e o <code>totalJSHeapSize</code> mostra o total máximo do heap para uso. Esses atributos retornam valores inteiros representados em bytes.<br>O lado chato desse objeto é que ele só funciona apenas no browser Google Chrome.</p>
</div>
