---
layout: post
title: Frontend lindo usando Babel para rodar ES6
tags: ['Javascript', 'Node.js']
keywords: Babel, ES6, EcmaScript 6, JavaScript Transpiler
published: true
description: Se você esta curtindo a grande evolução da nova especificação do JavaScript, o EcmaScript 6 (ou ES6) e gostaria muito de usá-lo no front-end de seus projetos, então conheça o Babel Transpiler.
image_url: babel.jpg
---
<figure class="post-image">
  <a href="https://babeljs.io/" title="Babel - The JavaScript transpiler" target="_blank">
    <img src="{{ site.url }}/images/babel.jpg" width="250" height="114" alt="Babel - The JavaScript transpiler" title="Babel - The JavaScript transpiler">
    <figcaption>Babel - The JavaScript transpiler</figcaption>
  </a>
</figure>
<div class="post-content">
  <p>Se você esta curtindo a grande evolução da nova especificação do JavaScript, o EcmaScript 6 (ou ES6) e gostaria muito de usá-lo no front-end de seus projetos, de forma cross-browser e compatível inclusive com browser antigos e principalmente utilizando fallbacks on-demand que evitam overhead de código JavaScript no client-side, então apresento a vocês o transpiler que esta se tornando muito popular chamado Babel (também conhecido pelo antigo nome 6to5).</p>
  <p>Com ele você poderá usar <a href="https://babeljs.io/docs/learn-es6/" title="Veja neste link os recursos de compilação do Babel" target="_blank">os novos recursos do ES6</a>, <a href="https://babeljs.io/docs/usage/experimental/" target="_blank">alguns experimentos do ES7</a> e <a href="https://babeljs.io/docs/usage/jsx/" target="_blank">também o JSX do React</a>. Como resultado final ele compila uma versão JavaScript cross-browser para você, seu mecanismo de compilação (o transpiler) converte de forma eficiente um código ES6 para ES5 como resultado final. Esse processo de compilação você faz através de seu CLI, mas também é possível usá-lo diretamente como um plugin pro <a href="https://babeljs.io/docs/using-babel/" target="_blank" title="Veja neste link as diversas formas de usar o Babel">Grunt, Gulp, Sprockets, Meteor, Webpack, Makefile e mais outros</a>.</p>
  <p>Que tal testarmos na prática para ver como funciona? Instale-o via comando:</p>

{% highlight bash %}
npm install -g babel
{% endhighlight %}

  <p>Em seguida crie o seguinte código:</p>

{% highlight javascript %}
class Cliente {

  constructor(nome, email) {
    this.nome = nome;
    this.email = email;
  }

  hello() {
    return `Olá ${this.nome} tudo bem?`
  }

  send() {
    return `Enviando email para ${this.email}...`
  }

}
{% endhighlight %}

  {% include content-ads.ext %}
  
  <p>Acabamos de criar uma classe usando o padrão ES6 com o nome de arquivo <code>cliente.es6</code>, o código ficou muito lindo, não é?<br>Para compilar esta classe usando o Babel, basta rodar esse simples comando:</p>

{% highlight bash %}
babel cliente.es6 --out-file cliente.js
{% endhighlight %}

  <p>Como resultado final você terá como output esse código grande, que esta em versão ES5 compatível com os principais browsers:</p>

{% highlight javascript %}
"use strict";

var _prototypeProperties = function (child, staticProps, instanceProps) { if (staticProps) Object.defineProperties(child, staticProps); if (instanceProps) Object.defineProperties(child.prototype, instanceProps); };

var _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } };

var Cliente = (function () {
  function Cliente(nome, email) {
    _classCallCheck(this, Cliente);

    this.nome = nome;
    this.email = email;
  }

  _prototypeProperties(Cliente, null, {
    hello: {
      value: function hello() {
        return "Olá " + this.nome + " tudo bem?";
      },
      writable: true,
      configurable: true
    },
    send: {
      value: function send() {
        return "Enviando email para " + this.email + "...";
      },
      writable: true,
      configurable: true
    }
  });

  return Cliente;
})();
{% endhighlight %}

  <p>Sim, o código está um pouco grande e complexo, porém ele ainda está bem melhor do que usando script de fallback que carrega desnecessariamente inúmeros recursos do ES6 no client-side.</p>

  <p>Um detalhe legal é que se você estiver usando vários códigos modularizados, o babel também permite concatenar e compilar uma pasta inteira, gerando um único código, supondo que você tem uma pasta <code>src</code> que contém vários códigos <code>.es6</code> você precisa apenas rodar esse comando:</p>

{% highlight bash %}
babel src --out-file main.js
{% endhighlight %}

  <p>E outro recurso legal do Babel é que você pode deixar rodando em background um comando file watcher que recompila toda vez que um determinado arquivo sofre alteração, veja o comando:</p>

{% highlight bash %}
babel src --watch --out-file main.js
{% endhighlight %}

  <p>Esse post foi apenas uma demonstração mínima do poderoso Babel, se quiser aprender mais sobre ele recomendo a leitura dos seguintes links:<br>
    <ul>
      <li><a href="https://babeljs.io/" target="_blank">Site oficial do Babel</a></li>
      <li><a href="https://babeljs.io/repl/" target="_blank">Testando Babel no browser</a></li>
    </ul>
  </p>
</div>
